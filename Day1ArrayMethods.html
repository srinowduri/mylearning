<html>
	<head>
		<title> Array Methods Practice </title>
	</head>
	<body>
		<h2> Day 1 Practice on Array Methods </h2>
		<p> For unique values using forEach() and Set() </p>
		<p onclick="sortNumber()"><span id="foreach"></span>foreach()</p>
		<p onclick="setNumber()"><span id="set"></span>Set()</p>
	
	<style>
		p{
			cursor: pointer;
			font-size: 20px;
			color: blue;
		}
		#foreach, #set {
			color: red;
		}
	</style>
	
	<script>
		// Removing duplicates from array...
		
		const values = [3, 1, 3, 5, 2, 4, 4, 4];
		
		const uniqueValues = [];
		function sortNumber(){
			const nonRepeatedValues = values.forEach((value) => {
			if(uniqueValues.indexOf(value) === -1){
				uniqueValues.push(value);
			}
		});
		//console.log(uniqueValues);
		document.getElementById("foreach").innerHTML = uniqueValues;
		}
		
		// we can use the set method also for unique values from an array.
		function setNumber(){
			let sortingValues = [...new Set(values)];
		
			document.getElementById("set").innerHTML = sortingValues;
		}
		
		/*let setValues = new Set();
		
		setValues.add(1)
				.add(2)
				.add(3);
		setValues.add(2);
		
		console.log(setValues);
		console.log(Array.from(sortedValues));*/
		
		// Using filter() method....
		
		const users = [
			{ id: 11, name: 'Adam', age: 23, group: 'editor' },
			{ id: 47, name: 'John', age: 28, group: 'admin' },
			{ id: 85, name: 'William', age: 34, group: 'editor' },
			{ id: 97, name: 'Oliver', age: 28, group: 'admin' }
		];
		
		const search = users.filter(person => person.name.includes('o'));
		console.log("The values with letter 'o' are: ");
		console.table(search);
		
		const check = [];
		const hasAdmin = users.map((user) => {
			if(user.group === 'admin'){
				check.push(user);
			}
		});
		console.table(check);
		
		// from manual
		const isAdmin = users.some(user => user.group === 'admin');
		
		console.log(isAdmin);
		
		const nested = [[1, 2, 3], [4, 5, 6], [7, 8, 9]];
		
		const singleArray = nested.reduce((acc,data) => [...acc,...data], []);
		
		console.log("single Array from nested Array:");
		console.log(singleArray);
		
		
		//single array from nested array without reduce() method and spread operator(...)
		let flat = [].concat.apply([], nested);
		console.log("without reduce and spread");
		console.log(flat);
		
		//using flat()...
		
		let flattening = nested.flat();
		console.log("using flat() method:");
		console.log(flattening);
		
		// count the 'age' property for each item in the 'users' array
		let count = 1;
		const groupByage = users.reduce((acc,data) => {
			acc[data.age] = acc[data.age] + 1 || 1;
			return acc;
		},{});
		
		console.log(groupByage);
		
		const indexTable = users.reduce((acc,value) => 
				(acc[value.name] = value, acc), {});
				
		console.log(indexTable);
		
		//Extract the unique values for the given key of each item in the array
		
		const listOfGroups = [...new Set(users.map(data => data.group))];
		
		console.log(listOfGroups);
		
		// Object key-value 
		
		const cities = {
			Lyon: 'France',
			Berlin: 'Germany',
			Paris: 'France'
		};
		
		let countries = Object.keys(cities).reduce((acc, key) => (acc[cities[key]] = [...acc[cities[key]] || [], key], acc),{});
		
		console.log(countries);
		
		// changing celsius to fahrenhiet
	
		const celsius = [-15, -5, 0, 10, 16, 20, 24, 32];
		
		const fahrenhiet = celsius.map(temp => {
			return ((9 * temp) / 5) + 32;
		});
		
		console.log(fahrenhiet);
		
		//Find and replace a key-value pair in an array of objects
		
		const replaceUser = users.map(user => user.id !== 47 ? user : {
			...user, age: user.age + 1
		});
		
		console.log(replaceUser);
	</script>
	</body>
</html>